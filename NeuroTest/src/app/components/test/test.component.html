<div class="container">
  <h1>Formulario neuropsicología</h1>
  <form [formGroup]="test" id="formularioNeuro" novalidate class="form" action="#" method="POST">
    <label for="tiempoSesion">Tiempo disponible para la sesión (en minutos):</label>
    <input type="number" formControlName="tiempoSesion" name="tiempoSesion" required>

    <label for="nivelEducativo">Nivel educativo:</label>
    <select name="nivelEducativo" formControlName="nivelEducativo" id="nivelEducativo" required>
      <option value="1">Primaria (12 años de educación o menos)</option>
      <option value="2">Secundaria (entre 12 y 16 años de educación)</option>
      <option value="3">Superior (más de 16 años de educación)</option>
    </select><br><br>

    <label for="edadPaciente">Edad del paciente:</label>
    <input type="number" formControlName="edadPaciente" id="edadPaciente" name="edadPaciente" required><br><br>
    <br>
    <!--Este if comprueba si no se han rellenado los campos y muestra ese párrafo-->
    <button class="btn btn-exito" (click)="enviar()">Enviar</button>
    @if(!isFormValid){
      <p style="color:red">Rellena todos los campos</p>
    }
  </form>

  <!-- Si envías respuesta y tiene información aparece la tabla, si no hay tests aparecerá "no hay tests"-->
@if (hasSend) {

  @if (!errorMsg) {

    <h2>Pruebas recomendadas:</h2>

  <table>
        <tr>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Tiempo Requerido</th>
        </tr>
        <tr *ngFor="let test of tests">
          <td>{{test.test_nombre}}</td>
          <td>{{test.descripcion}}</td>
          <td>{{test.tiempo_requerido}}</td>
        </tr>
  </table>

  }@else {

    {{errorMsg}}
  }
} 
</div>
